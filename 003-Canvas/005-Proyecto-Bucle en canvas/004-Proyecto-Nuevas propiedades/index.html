<!doctype html>
<html lang="es">
    <head>
        <title>Aprendiendo Canvas</title>
    </head>
    <body>
        <canvas id="lienzo" width=512 height=512></canvas>
        <script>
            class Entidad{
                constructor(){
                    this.x;
                    this.y;
                    this.direccion;
                    this.color;
                }
            }
            var temporizador = setTimeout("bucle()",1000);
            const contexto = document.getElementById("lienzo").getContext("2d");
            var entidad1 = new Entidad();
            entidad1.x = Math.random()*512;
            entidad1.y = Math.random()*512;
            entidad1.color = "#ff0000"
            entidad1.direccion = Math.random()*Math.PI*2
            function bucle(){
                contexto.clearRect(0,0,512,512);
                entidad1.x += Math.cos(entidad1.direccion);
                entidad1.y += Math.sin(entidad1.direccion);;
                contexto.fillStyle = entidad1.color;
                contexto.beginPath();
                contexto.arc(entidad1.x,entidad1.y,20,0,Math.PI*2,true);
                contexto.fill();
                console.log("hola")
                clearTimeout(temporizador);
                temporizador = setTimeout("bucle()",30);
            }
            
        </script>
    </body>
</html>